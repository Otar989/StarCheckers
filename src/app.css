:root {
  --bg:#0b0f15; --text:#e6ebf2;
  --surface:#11161d; --surface-2:#0f141a;
  --board-light:#2b3038; --board-dark:#1a1f26;
  --piece-light:#e8ecf3; --piece-dark:#cf3a3a;
  --accent:#9ac6ff; --btn:#3a4352; --btn-hover:#465063;
  --radius:16px; --shadow:0 12px 40px rgba(0,0,0,.35);
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --tg-header: 56px;
}

#app {
  position: fixed;
  inset: 0;
  display: grid;
  gap: 12px;
  grid-template-rows: auto 1fr auto;
  padding: calc(var(--safe-top) + var(--tg-header) + 8px)
           calc(var(--safe-right) + 12px)
           calc(var(--safe-bottom) + 12px)
           calc(var(--safe-left) + 12px);
  background: var(--bg);
  color: var(--text);
}

.appbar { display:flex; align-items:center; justify-content:space-between; }
.footer { min-height: 60px; }
.stage { min-height:0; overflow: clip; }
.game-center {
  inline-size:100%; block-size:100%;
  display:grid; grid-template-rows:auto auto;
  justify-items:center; align-content:center; row-gap:12px;
}
.board-wrap { position:relative; aspect-ratio:1/1; max-inline-size:100%; max-block-size:100%; }
.board {
  position:absolute; inset:0; inline-size:100%; block-size:100%; aspect-ratio:1/1;
  display:grid; grid-template: repeat(8,1fr)/repeat(8,1fr);
}
.board-caption { padding:10px 12px; background:rgba(255,255,255,.06); border-radius:12px; max-inline-size:min(92vw, 520px); }
.cell { width:100%; height:100%; }
.piece { border-radius:50%; box-shadow: inset 0 0 6px rgba(0,0,0,.4); }
