/* ----- Тема Graphite (единственная) ----- */
:root{
  --bg:#0b0f15;
  --surface:#11161d;        /* фон карт */
  --surface-2:#0f141a;      /* фон вторичный/панели */
  --text:#e6ebf2;
  --muted:#a6b0be;
  --accent:#9ac6ff;         /* голубой акцент */
  --btn:#3a4352;
  --btn-hover:#465063;
  --radius:16px;
  --shadow:0 12px 40px rgba(0,0,0,.35);

  /* Доска */
  --board-light:#2b3038;
  --board-dark:#1a1f26;
  --piece-light:#e8ecf3;
  --piece-dark:#cf3a3a;
}

html, body{
  height:100%; overflow:hidden; overscroll-behavior:none;
  background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue";
}

/* Контейнер приложения */
#app, .content, .game-card {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
}

/* AppBar */
.appbar{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
.logo{ font-weight:800; letter-spacing:.2px; }
.btn-ghost{ background:rgba(255,255,255,.06); border:0; color:var(--text); padding:8px 12px; border-radius:12px; }

/* Контентный экран */
.view{ width:100%; height:100%; }
.view[hidden]{ display:none !important; }

/* Карточки */
.card{
  background:linear-gradient(180deg, var(--surface), var(--surface-2));
  border-radius:var(--radius); box-shadow:var(--shadow);
  display:flex; flex-direction:column; min-height:0;
}
.card-head{ padding:12px 16px; border-bottom:1px solid rgba(255,255,255,.06); }
.card-head h2{ margin:0; font-size:16px; }
.card-body{ padding:12px; min-height:0; }

/* Зона с доской */
.game-grid {
  flex: 1;
  display: flex;
  align-items: center;      /* центр по вертикали */
  justify-content: center;  /* центр по горизонтали */
  min-height: 0;
  min-width: 0;
}

/* Обёртка доски */
.board-wrap {
  aspect-ratio: 1 / 1;
  width: 100%;
  max-width: 100vmin; /* ограничение — вписывается в меньшую сторону экрана */
  max-height: 100vmin;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Сама доска */
.board {
  width: 100%;
  height: 100%;
}
.board canvas{ width:100%; height:100%; display:block; }

/* Клетки/фигуры — ваши существующие стили + обновлённые цвета */
.board .cell.light{ background:var(--board-light); }
.board .cell.dark{  background:var(--board-dark); }
.piece.light{ background:radial-gradient(ellipse at 35% 30%, #fff, var(--piece-light)); }
.piece.dark{  background:radial-gradient(ellipse at 35% 30%, #b00000, var(--piece-dark)); }

/* Панель статуса не должна «толкать» сетку вверх */
.side-panel{
  width:100%;
  justify-self:center;
  background:rgba(255,255,255,.03);
  border-radius:12px;
  padding:12px;
}
.stat{ color:var(--muted); margin:6px 0; }
.stat b{ color:var(--text); }

/* Настройки */
.settings-body{ display:grid; gap:12px; max-height:100%; overflow:auto; }
.form-row{ display:grid; gap:6px; }
.form-row.split{ grid-auto-flow:column; grid-auto-columns:1fr; gap:12px; }
label{ font-size:13px; color:var(--muted); }
select, input[type="text"]{
  width:100%; background:#151b24; color:var(--text);
  border:1px solid rgba(255,255,255,.08); border-radius:12px;
  padding:10px 12px; outline:none;
}
select:focus{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(154,198,255,.2); }
.checkbox{ display:flex; align-items:center; gap:8px; }

.actions{ display:flex; justify-content:flex-start; }
.btn{ background:var(--btn); color:#fff; border:0; padding:10px 14px; border-radius:14px; }
.btn:hover{ background:var(--btn-hover); }
.btn-primary{ background:var(--accent); color:#10151b; }

/* Футер */
.footer{ min-height:60px; }
.controls{ display:grid; grid-auto-flow:column; gap:8px; }

/* Жесты только наши */
.board, .board *{ touch-action:none; }
